"use strict";(self.webpackChunk_glitchjsy_data_frontend=self.webpackChunk_glitchjsy_data_frontend||[]).push([[970],{26414:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(58168),l=a(96540),r=a(95293),s=a(20053);const c={button:"button_h_xa",smallerPadding:"smallerPadding_avZr",primary:"primary_UmVR",secondary:"secondary_amWm",danger:"danger_jN6b"};function o(e){let{children:t,variant:a="primary",useSmallerPadding:o,className:i,...m}=e;const{colorMode:u}=(0,r.G)();return l.createElement("button",(0,n.A)({className:(0,s.A)(c.button,c[a],{[c.smallerPadding]:o},i),"data-theme":u},m),t)}},45591:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(96540);const l={formGroup:"formGroup_YCak",helpText:"helpText_f1zI"};function r(e){return n.createElement("div",{className:l.formGroup},n.createElement("label",null,e.label),e.children,e.helpText&&n.createElement("span",{className:l.helpText},e.helpText))}},30070:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(58168),l=a(96540);const r={input:"input_kH4F"};function s(e){return l.createElement("input",(0,n.A)({className:r.input},e))}},20930:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(58168),l=a(96540);const r={select:"select_snWT"};function s(e){return l.createElement("select",(0,n.A)({className:r.select},e))}},76954:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(45591),l=a(15549),r=a(96540),s=a(98027),c=a(20053),o=a(68272),i=a(30070),m=a(20930),u=a(26414);const d={header:"header_JSKg",title:"title_fwSy",summary:"summary_EFA1",content:"content_ic5G",error:"error_DM7w",grid:"grid_PiqG",results:"results_w3id",result:"result_wNx2",resDefendant:"resDefendant_NH45",resDate:"resDate_a0QF",pagination:"pagination_lkYa",activePage:"activePage_fbCF",jumpToPage:"jumpToPage_BKxd",jumpToPageError:"jumpToPageError_wC5b",modalOverlay:"modalOverlay_WPL6",modalContent:"modalContent_zosy",modalCloseBtn:"modalCloseBtn_Gg4e",modalHeader:"modalHeader_J44k",modalFooter:"modalFooter_otz6",requestIdModal:"requestIdModal_DysV",requestHeadingModal:"requestHeadingModal_ZkYY",tabs:"tabs_vzTY",tab:"tab_Hy7B",activeTab:"activeTab_rlxe"},g={result:"result_WUy8",title:"title_AZ3v",defendant:"defendant_Dsr5",metaSmall:"metaSmall_u4IP",body:"body_RqfW",bodyExpanded:"bodyExpanded_c0qt",section:"section_Zlmq",striped:"striped_SNFN",meta:"meta_rVVl"};function E(e){let{item:t}=e;const[a,n]=(0,r.useState)(!1);return r.createElement("div",{className:(0,c.A)(g.result,a?g.expanded:g.collapsed),onClick:()=>n(!a)},r.createElement("div",{className:g.header},r.createElement("div",{className:g.title},r.createElement("div",{className:g.defendant},t.defendant)),r.createElement("div",{className:g.metaSmall},r.createElement("div",null,r.createElement("strong",null,"Appearance:")," ",new Date(t.appearanceDate).toLocaleDateString()),r.createElement("div",null,r.createElement("strong",null,"Hearing Purpose:")," ",t.hearingPurpose))),a&&r.createElement("div",{className:(0,c.A)(g.body,g.bodyExpanded)},r.createElement("div",{className:(0,c.A)(g.section,g.striped)},r.createElement("strong",null,"Offences:"),r.createElement("ul",null,t.offences.map(((e,t)=>r.createElement("li",{key:t},e))))),r.createElement("div",{className:(0,c.A)(g.section)},r.createElement("strong",null,"Sentence:"),r.createElement("p",{dangerouslySetInnerHTML:{__html:t.result.replaceAll("\n","<br>")}}))),a&&r.createElement("div",{className:(0,c.A)(g.meta,g.striped)},r.createElement("div",null,r.createElement("strong",null,"Magistrate:")," ",t.magistrate),r.createElement("div",null,r.createElement("strong",null,"Law Officer:")," ",t.lawOfficer),r.createElement("div",null,r.createElement("strong",null,"Court:")," ",t.courtRoom),t.nextAppearanceDate&&r.createElement("div",null,r.createElement("strong",null,"Next Appearance:")," ",t.nextAppearanceDate)))}const p={card:"card_GnxY",title:"title_O1I4",defendant:"defendant_YWl2",section:"section_Ydf5",sectionAlt:"sectionAlt_oE1c"};function v(e){let{item:t}=e;return r.createElement("div",{className:p.card},r.createElement("div",{className:p.header},r.createElement("div",{className:p.title},r.createElement("div",{className:p.defendant},t.defendant))),r.createElement("div",{className:p.section},r.createElement("div",null,r.createElement("strong",null,"Appearance:")," ",new Date(t.appearanceDate).toLocaleDateString())),r.createElement("div",{className:p.sectionAlt},r.createElement("div",null,r.createElement("strong",null,"Purpose:")," ",t.hearingPurpose)),r.createElement("div",{className:p.section},r.createElement("div",null,r.createElement("strong",null,"Courtroom:")," ",t.courtRoom)))}function f(){const[e,t]=(0,r.useState)("hearings"),[a,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[h,_]=(0,r.useState)(""),[N,b]=(0,r.useState)(""),[y,S]=(0,r.useState)([]),[A,C]=(0,r.useState)([]),[P,k]=(0,r.useState)(0),[w,x]=(0,r.useState)(1),[T,D]=(0,r.useState)(5),[j,F]=(0,r.useState)(1),[H,I]=(0,r.useState)([]),[R,q]=(0,r.useState)(0),[G,M]=(0,r.useState)(1),[Y,W]=(0,r.useState)(5),[L,O]=(0,r.useState)(1),[$,z]=(0,r.useState)(""),[B,V]=(0,r.useState)("");function Z(e,t){const a=new URLSearchParams;return a.append("limit",String(t)),a.append("page",String(e)),h&&a.append("defendant",h),N&&a.append("courtRoom",N),a.toString()}async function J(){try{f(!0);const e=Z(w,T),t=await fetch(`${o.y}/v1/courts/magistrates/hearings?${e}`),a=await t.json();t.ok?(C(a.results),k(a.pagination.totalItems),F(a.pagination.totalPages)):g(a?.message||"Failed to load hearings")}finally{f(!1)}}async function U(){try{f(!0);const e=Z(G,Y),t=await fetch(`${o.y}/v1/courts/magistrates/results?${e}`),a=await t.json();t.ok?(I(a.results),q(a.pagination.totalItems),O(a.pagination.totalPages)):g(a?.message||"Failed to load results")}finally{f(!1)}}(0,r.useEffect)((()=>{!async function(){try{const e=await fetch(`${o.y}/v1/courts/magistrates/hearings/fields`),t=await e.json();e.ok&&S(t?.results?.courtRoom??[])}catch(e){g("Failed to load court rooms")}}()}),[]),(0,r.useEffect)((()=>{"hearings"===e&&J()}),[w,T,e]),(0,r.useEffect)((()=>{"results"===e&&U()}),[G,Y,e]);const K="hearings"===e?A:H,Q="hearings"===e?w:G,X="hearings"===e?j:L,ee="hearings"===e?T:Y,te="hearings"===e?P:R,ae="hearings"===e?D:W,ne="hearings"===e?x:M;return r.createElement(l.A,{title:"Courts Search"},r.createElement("div",{className:d.header},r.createElement("div",{className:"container container-fluid margin-vert--lg"},r.createElement("h1",{className:d.title},"Courts Search"),r.createElement("p",{className:d.summary},"Search through Magistrates court hearings & results."))),r.createElement("div",{className:d.content},r.createElement("div",{className:"container container-fluid margin-vert--lg"},r.createElement("div",{className:d.tabs},r.createElement("button",{onClick:()=>t("hearings"),className:(0,c.A)(d.tab,"hearings"===e&&d.activeTab)},"Hearings"),r.createElement("button",{onClick:()=>t("results"),className:(0,c.A)(d.tab,"results"===e&&d.activeTab)},"Results")),r.createElement("div",{className:d.grid},r.createElement("div",{className:d.inputColumn},a&&r.createElement("div",{className:d.error},r.createElement(s.TNq,null)," ",a),r.createElement(n.A,{label:"Defendant"},r.createElement(i.A,{value:h,onChange:e=>_(e.target.value)})),r.createElement(n.A,{label:"Court Room"},r.createElement(m.A,{value:N,onChange:e=>b(e.target.value)},r.createElement("option",{value:""},"-- none --"),y.map((e=>r.createElement("option",{key:e,value:e},e))))),r.createElement(u.A,{onClick:async function(){"hearings"===e?(x(1),J()):(M(1),U())}},"Search")),r.createElement("div",{className:d.outputColumn},r.createElement("h2",null,"hearings"===e?"Hearings":"Results"),K.length>0&&r.createElement(r.Fragment,null,r.createElement("p",null,"Showing ",K.length," of ",te," results"),"results"===e&&r.createElement("p",{style:{color:"var(--purple)",fontWeight:"bold"}},"Click an entry to view additional information")),r.createElement("div",{className:d.results},K.map((t=>"hearings"===e?r.createElement(v,{key:t.id,item:t}):r.createElement(E,{key:t.id,item:t}))),X>1&&r.createElement(r.Fragment,null,r.createElement("div",{className:d.pagination},r.createElement("button",{className:"btn",disabled:1===Q,onClick:()=>ne(Q-1)},"Previous"),r.createElement("span",{className:d.pageInfo},"Page ",Q," of ",X),r.createElement("button",{className:"btn",disabled:Q===X,onClick:()=>ne(Q+1)},"Next")),r.createElement("div",{className:d.jumpToPage},"Jump to page",r.createElement("input",{type:"number",value:$,onChange:function(e){const t=e.target.value;z(t),!t||/^[0-9]+$/.test(t)?V(""):V("Not a number")}}),r.createElement("button",{className:"btn",disabled:!$,onClick:function(){if(!$)return;const t=Number($);if("hearings"===e){if(t>j)return V("Page does not exist");x(t)}else{if(t>L)return V("Page does not exist");M(t)}z("")}},"Go")),B&&r.createElement("div",{className:d.jumpToPageError},B)),r.createElement("div",null,"Items per page:"," ",r.createElement("select",{value:ee,onChange:e=>ae(Number(e.target.value))},[5,10,15,20,30,40,50].map((e=>r.createElement("option",{key:e,value:e},e)))))))))))}}}]);