"use strict";(self.webpackChunk_glitchjsy_data_frontend=self.webpackChunk_glitchjsy_data_frontend||[]).push([[6635],{38847:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var s=a(15549),c=a(96540),i=a(68272);const r={authCard:"authCard_uy3F",title:"title_uT5p",error:"error_gmyA",success:"success_B4C7"};function n(){const[e,t]=(0,c.useState)(""),[a,n]=(0,c.useState)(!1);(0,c.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("token");o(e)}),[]);const o=async e=>{try{const a=await fetch(`${i.y0}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:e})});if(a.ok)t(""),n(!0),setTimeout((()=>{window.location.href="/login"}),3e3);else{const e=await a.json();t(e?.message||"An error has occurred"),n(!1)}}catch(a){console.error("Error:",a)}};return c.createElement(s.A,{title:"Email Verification"},c.createElement("div",{className:"container",style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"50px"}},c.createElement("div",{className:r.authCard},c.createElement("h2",{className:r.title},"Email Verification"),e&&c.createElement("div",{className:r.error},e),a&&c.createElement("div",{className:r.success},"Success! You will be redirected to login in a second..."))))}},68272:e=>{e.exports=JSON.parse('{"Rb":"pk.eyJ1IjoiZ2xpdGNoanN5IiwiYSI6ImNtOG9iZm01aTAwcWQyanM5NHN6NXRsemcifQ.GCQil4JVppCX_dIgJE1tMA","y0":"https://api.opendata.je","qu":"6LeMWScsAAAAAP-KiCNYxmSiz_9rdiM7xlqphI6R"}')}}]);