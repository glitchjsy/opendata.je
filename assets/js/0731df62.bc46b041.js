"use strict";(self.webpackChunk_glitchjsy_data_frontend=self.webpackChunk_glitchjsy_data_frontend||[]).push([[970],{26414:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(58168),r=a(96540),l=a(95293),s=a(20053);const c={button:"button_h_xa",smallerPadding:"smallerPadding_avZr",primary:"primary_UmVR",secondary:"secondary_amWm",danger:"danger_jN6b"};function o(e){let{children:t,variant:a="primary",useSmallerPadding:o,className:i,...m}=e;const{colorMode:u}=(0,l.G)();return r.createElement("button",(0,n.A)({className:(0,s.A)(c.button,c[a],{[c.smallerPadding]:o},i),"data-theme":u},m),t)}},45591:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(96540);const r={formGroup:"formGroup_YCak",helpText:"helpText_f1zI"};function l(e){return n.createElement("div",{className:r.formGroup},n.createElement("label",null,e.label),e.children,e.helpText&&n.createElement("span",{className:r.helpText},e.helpText))}},30070:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(58168),r=a(96540);const l={input:"input_kH4F"};function s(e){return r.createElement("input",(0,n.A)({className:l.input},e))}},20930:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(58168),r=a(96540);const l={select:"select_snWT"};function s(e){return r.createElement("select",(0,n.A)({className:l.select},e))}},76954:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var n=a(45591),r=a(15549),l=a(96540),s=a(98027),c=a(20053),o=a(68272),i=a(30070),m=a(20930),u=a(26414);const d={header:"header_JSKg",title:"title_fwSy",summary:"summary_EFA1",content:"content_ic5G",error:"error_DM7w",grid:"grid_PiqG",results:"results_w3id",result:"result_wNx2",resDefendant:"resDefendant_NH45",resDate:"resDate_a0QF",pagination:"pagination_lkYa",activePage:"activePage_fbCF",jumpToPage:"jumpToPage_BKxd",jumpToPageError:"jumpToPageError_wC5b",modalOverlay:"modalOverlay_WPL6",modalContent:"modalContent_zosy",modalCloseBtn:"modalCloseBtn_Gg4e",modalHeader:"modalHeader_J44k",modalFooter:"modalFooter_otz6",requestIdModal:"requestIdModal_DysV",requestHeadingModal:"requestHeadingModal_ZkYY",tabs:"tabs_vzTY",tab:"tab_Hy7B",activeTab:"activeTab_rlxe"},p={result:"result_WUy8",title:"title_AZ3v",defendant:"defendant_Dsr5",metaSmall:"metaSmall_u4IP",body:"body_RqfW",bodyExpanded:"bodyExpanded_c0qt",section:"section_Zlmq",striped:"striped_SNFN",meta:"meta_rVVl"};function g(e){let{item:t}=e;const[a,n]=(0,l.useState)(!1);return l.createElement("div",{className:(0,c.A)(p.result,a?p.expanded:p.collapsed),onClick:()=>n(!a)},l.createElement("div",{className:p.header},l.createElement("div",{className:p.title},l.createElement("div",{className:p.defendant},t.defendant)),l.createElement("div",{className:p.metaSmall},l.createElement("div",null,l.createElement("strong",null,"Appearance:")," ",new Date(t.appearanceDate).toLocaleDateString()),l.createElement("div",null,l.createElement("strong",null,"Hearing Purpose:")," ",t.hearingPurpose))),a&&l.createElement("div",{className:(0,c.A)(p.body,p.bodyExpanded)},l.createElement("div",{className:(0,c.A)(p.section,p.striped)},l.createElement("strong",null,"Offences:"),l.createElement("ul",null,t.offences.map(((e,t)=>l.createElement("li",{key:t},e))))),l.createElement("div",{className:(0,c.A)(p.section)},l.createElement("strong",null,"Sentence:"),l.createElement("p",{dangerouslySetInnerHTML:{__html:t.result.replaceAll("\n","<br>")}}))),a&&l.createElement("div",{className:(0,c.A)(p.meta,p.striped)},l.createElement("div",null,l.createElement("strong",null,"Magistrate:")," ",t.magistrate),l.createElement("div",null,l.createElement("strong",null,"Law Officer:")," ",t.lawOfficer),l.createElement("div",null,l.createElement("strong",null,"Court:")," ",t.courtRoom),t.nextAppearanceDate&&l.createElement("div",null,l.createElement("strong",null,"Next Appearance:")," ",t.nextAppearanceDate)))}const f={card:"card_GnxY",title:"title_O1I4",defendant:"defendant_YWl2",section:"section_Ydf5",sectionAlt:"sectionAlt_oE1c"};function v(e){let{item:t}=e;return l.createElement("div",{className:f.card},l.createElement("div",{className:f.header},l.createElement("div",{className:f.title},l.createElement("div",{className:f.defendant},t.defendant))),l.createElement("div",{className:f.section},l.createElement("div",null,l.createElement("strong",null,"Appearance:")," ",new Date(t.appearanceDate).toLocaleDateString())),l.createElement("div",{className:f.sectionAlt},l.createElement("div",null,l.createElement("strong",null,"Purpose:")," ",t.hearingPurpose)),l.createElement("div",{className:f.section},l.createElement("div",null,l.createElement("strong",null,"Courtroom:")," ",t.courtRoom)))}function E(){const[e,t]=(0,l.useState)("hearings"),[a,p]=(0,l.useState)(""),[f,E]=(0,l.useState)(!1),[b,h]=(0,l.useState)(""),[y,N]=(0,l.useState)(""),[_,S]=(0,l.useState)([]),[P,w]=(0,l.useState)([]),[A,O]=(0,l.useState)(0),[C,j]=(0,l.useState)(1),[k,x]=(0,l.useState)(5),[T,D]=(0,l.useState)(1),[I,M]=(0,l.useState)([]),[R,F]=(0,l.useState)(0),[G,H]=(0,l.useState)(1),[q,W]=(0,l.useState)(5),[Y,z]=(0,l.useState)(1),[J,L]=(0,l.useState)(""),[Z,$]=(0,l.useState)("");function V(e,t){const a=new URLSearchParams;return a.append("limit",String(t)),a.append("page",String(e)),b&&a.append("defendant",b),y&&a.append("courtRoom",y),a.toString()}async function B(){try{E(!0);const e=V(C,k),t=await fetch(`${o.y0}/v1/courts/magistrates/hearings?${e}`),a=await t.json();t.ok?(w(a.results),O(a.pagination.totalItems),D(a.pagination.totalPages)):p(a?.message||"Failed to load hearings")}finally{E(!1)}}async function Q(){try{E(!0);const e=V(G,q),t=await fetch(`${o.y0}/v1/courts/magistrates/results?${e}`),a=await t.json();t.ok?(M(a.results),F(a.pagination.totalItems),z(a.pagination.totalPages)):p(a?.message||"Failed to load results")}finally{E(!1)}}(0,l.useEffect)((()=>{!async function(){try{const e=await fetch(`${o.y0}/v1/courts/magistrates/hearings/fields`),t=await e.json();e.ok&&S(t?.results?.courtRoom??[])}catch(e){p("Failed to load court rooms")}}()}),[]),(0,l.useEffect)((()=>{"hearings"===e&&B()}),[C,k,e]),(0,l.useEffect)((()=>{"results"===e&&Q()}),[G,q,e]);const K="hearings"===e?P:I,U="hearings"===e?C:G,X="hearings"===e?T:Y,ee="hearings"===e?k:q,te="hearings"===e?A:R,ae="hearings"===e?x:W,ne="hearings"===e?j:H;return l.createElement(r.A,{title:"Courts Search"},l.createElement("div",{className:d.header},l.createElement("div",{className:"container container-fluid margin-vert--lg"},l.createElement("h1",{className:d.title},"Courts Search"),l.createElement("p",{className:d.summary},"Search through Magistrates court hearings & results."))),l.createElement("div",{className:d.content},l.createElement("div",{className:"container container-fluid margin-vert--lg"},l.createElement("div",{className:d.tabs},l.createElement("button",{onClick:()=>t("hearings"),className:(0,c.A)(d.tab,"hearings"===e&&d.activeTab)},"Hearings"),l.createElement("button",{onClick:()=>t("results"),className:(0,c.A)(d.tab,"results"===e&&d.activeTab)},"Results")),l.createElement("div",{className:d.grid},l.createElement("div",{className:d.inputColumn},a&&l.createElement("div",{className:d.error},l.createElement(s.TNq,null)," ",a),l.createElement(n.A,{label:"Defendant"},l.createElement(i.A,{value:b,onChange:e=>h(e.target.value)})),l.createElement(n.A,{label:"Court Room"},l.createElement(m.A,{value:y,onChange:e=>N(e.target.value)},l.createElement("option",{value:""},"-- none --"),_.map((e=>l.createElement("option",{key:e,value:e},e))))),l.createElement(u.A,{onClick:async function(){"hearings"===e?(j(1),B()):(H(1),Q())}},"Search")),l.createElement("div",{className:d.outputColumn},l.createElement("h2",null,"hearings"===e?"Hearings":"Results"),K.length>0&&l.createElement(l.Fragment,null,l.createElement("p",null,"Showing ",K.length," of ",te," results"),"results"===e&&l.createElement("p",{style:{color:"var(--purple)",fontWeight:"bold"}},"Click an entry to view additional information")),l.createElement("div",{className:d.results},K.map((t=>"hearings"===e?l.createElement(v,{key:t.id,item:t}):l.createElement(g,{key:t.id,item:t}))),X>1&&l.createElement(l.Fragment,null,l.createElement("div",{className:d.pagination},l.createElement("button",{className:"btn",disabled:1===U,onClick:()=>ne(U-1)},"Previous"),l.createElement("span",{className:d.pageInfo},"Page ",U," of ",X),l.createElement("button",{className:"btn",disabled:U===X,onClick:()=>ne(U+1)},"Next")),l.createElement("div",{className:d.jumpToPage},"Jump to page",l.createElement("input",{type:"number",value:J,onChange:function(e){const t=e.target.value;L(t),!t||/^[0-9]+$/.test(t)?$(""):$("Not a number")}}),l.createElement("button",{className:"btn",disabled:!J,onClick:function(){if(!J)return;const t=Number(J);if("hearings"===e){if(t>T)return $("Page does not exist");j(t)}else{if(t>Y)return $("Page does not exist");H(t)}L("")}},"Go")),Z&&l.createElement("div",{className:d.jumpToPageError},Z)),l.createElement("div",null,"Items per page:"," ",l.createElement("select",{value:ee,onChange:e=>ae(Number(e.target.value))},[5,10,15,20,30,40,50].map((e=>l.createElement("option",{key:e,value:e},e)))))))))))}},21414:(e,t,a)=>{a.d(t,{k5:()=>p});var n=a(96540),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(r),s=["attr","size","title"];function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){return e&&e.map(((e,t)=>n.createElement(e.tag,m({key:t},e.attr),d(e.child))))}function p(e){return t=>n.createElement(g,o({attr:m({},e.attr)},t),d(e.child))}function g(e){var t=t=>{var a,{attr:r,size:l,title:i}=e,u=c(e,s),d=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:a,style:m(m({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==l?n.createElement(l.Consumer,null,(e=>t(e))):t(r)}},68272:e=>{e.exports=JSON.parse('{"Rb":"pk.eyJ1IjoiZ2xpdGNoanN5IiwiYSI6ImNtOG9iZm01aTAwcWQyanM5NHN6NXRsemcifQ.GCQil4JVppCX_dIgJE1tMA","y0":"https://api.opendata.je","qu":"6LeMWScsAAAAAP-KiCNYxmSiz_9rdiM7xlqphI6R"}')}}]);